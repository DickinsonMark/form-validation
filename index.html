<!DOCTYPE html>
<html ng-app="formValidation">
  <head>
    <meta charset="utf-8">
    <title>Form Validation</title>
    <link rel="stylesheet" href="main.css">
  </head>
  <body>
    <div ng-controller="validationcontroller as vc">
      <p ng-if="vc.users.length > 0">
        {{vc.users}}
      </p>
      <form class="form-horizontal" ng-submit="vc.submitForm(form)" name="firstForm" novalidate>
        <span class="error-msg" ng-show="firstForm.username.$invalid && firstForm.username.$dirty">Username must be between 3 - 12 characters</span>
        <span class="error-msg" ng-show="vc.nameTaken">Username taken</span>
        <div class="form-group">
          <label class="control-label" for="username" ng-class="{ 'invalidLabel' : firstForm.username.$invalid && firstForm.username.$dirty, validLabel : firstForm.username.$valid }">Username: </label>
          <input class="form-control" id="username" ng-model="form.username" required ng-minlength="3" ng-maxlength="12" type="text" name="username" ng-class="{ 'invalidInput' : firstForm.username.$invalid && firstForm.username.$dirty, validInput : firstForm.username.$valid }">
        </div>

        <span class="error-msg" ng-show="firstForm.password.$invalid && firstForm.password.$dirty">password must be between 3 - 12 characters</span>
        <div class="form-group">
          <label class="control-label" for="password" ng-class="{ 'invalidLabel' : firstForm.password.$invalid && firstForm.password.$dirty, validLabel : firstForm.password.$valid }">Password: </label>
          <input id="password" ng-model="form.password" required ng-minlength="3" ng-maxlength="12" type="password" name="password" ng-class="{ 'invalidInput' : firstForm.password.$invalid && firstForm.password.$dirty, validInput : firstForm.password.$valid }">
        </div>

        <span class="error-msg" ng-show="firstForm.email.$invalid && firstForm.email.$dirty">Must be a valid email address</span>
        <div class="form-group">
          <label class="control-label" for="email" ng-class="{ 'invalidLabel' : firstForm.email.$invalid && firstForm.email.$dirty, validLabel : firstForm.email.$valid }">Email: </label>
          <input id="email" ng-model="form.email" required type="email" ng-pattern="/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i" name="email" ng-class="{ 'invalidInput' : firstForm.email.$invalid && firstForm.email.$dirty, validInput : firstForm.email.$valid }">
        </div>

        <span class="error-msg" ng-show="firstForm.zip.$invalid && firstForm.zip.$dirty">Must be a 5 digit number</span>
        <div class="form-group">
          <label class="control-label" for="zip" ng-class="{ 'invalidLabel' : firstForm.zip.$invalid && firstForm.zip.$dirty, validLabel : firstForm.zip.$valid }">Zip Code: </label>
          <input id="zip" ng-model="form.zip" ng-pattern="/^\d{5}$/" required type="number" name="zip" ng-class="{ 'invalidInput' : firstForm.zip.$invalid && firstForm.zip.$dirty, validInput : firstForm.zip.$valid }">
        </div>

        <button ng-disabled="firstForm.$invalid" type="submit" name="submit">Submit</button>
      </form>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <script src="app.js"></script>
    <script src="controller.js" charset="utf-8"></script>
  </body>
</html>
